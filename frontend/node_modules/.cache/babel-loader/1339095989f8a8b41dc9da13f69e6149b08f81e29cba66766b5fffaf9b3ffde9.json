{"ast":null,"code":"import React,{useState,useEffect,useContext}from\"react\";import PopupWithForm from\"./PopupWithForm\";import CurrentUserContext from\"../contexts/CurrentUserContext\";import\"../blocks/profile.css\";import\"../blocks/popup.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function EditProfilePopup(_ref){let{isOpen,onClose,onUpdateUser,isLoading}=_ref;const currentUser=useContext(CurrentUserContext);const[nameUser,setName]=useState(\"\");const[description,setDescription]=useState(\"\");const[isNameValid,setIsNameValid]=useState(true);const[isAboutValid,setIsAboutValid]=useState(true);const[isFormValid,setIsFormValid]=useState(false);useEffect(()=>{if(isOpen){setName(currentUser.name||\"\");setDescription(currentUser.about||\"\");setIsNameValid(true);setIsAboutValid(true);setIsFormValid(false);}},[isOpen,currentUser]);useEffect(()=>{setIsFormValid(isNameValid&&isAboutValid);},[isNameValid,isAboutValid]);function handleNameProfile(e){setName(e.target.value);setIsNameValid(e.target.validity.valid);}function handleAboutProfile(e){setDescription(e.target.value);setIsAboutValid(e.target.validity.valid);}function handleSubmit(e){e.preventDefault();onUpdateUser({nameUser,about:description});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"Editar Perfil\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isLoading:isLoading,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:`form__input ${!isNameValid&&\"form__input_has_error\"}`,placeholder:\"Nombre\",value:nameUser,onChange:handleNameProfile,minLength:\"2\",maxLength:\"40\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error form__input-error_type_name\",children:!isNameValid&&\"El nombre debe tener entre 2 y 30 caracteres\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"about\",className:`form__input ${!isAboutValid&&\"form__input_has_error\"}`,value:description,onChange:handleAboutProfile,placeholder:\"Acerca de m\\xED\",minLength:\"2\",maxLength:\"200\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error form__input-error_type_about\",children:!isAboutValid&&\"La Descripción debe tener entre 2 y 200 caracteres\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:`form__submit ${!isFormValid&&\"form__submit_disabled\"}`,disabled:!isFormValid,children:isLoading?\"Guardando...\":\"Guardar\"})]})});}export default EditProfilePopup;","map":{"version":3,"names":["React","useState","useEffect","useContext","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","isLoading","currentUser","nameUser","setName","description","setDescription","isNameValid","setIsNameValid","isAboutValid","setIsAboutValid","isFormValid","setIsFormValid","name","about","handleNameProfile","e","target","value","validity","valid","handleAboutProfile","handleSubmit","preventDefault","children","title","onSubmit","type","className","placeholder","onChange","minLength","maxLength","required","disabled"],"sources":["C:/Users/eduar/Documents/Tripleten/web_project_api_full/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport \"../blocks/profile.css\";\r\nimport \"../blocks/popup.css\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [nameUser, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [isNameValid, setIsNameValid] = useState(true);\r\n  const [isAboutValid, setIsAboutValid] = useState(true);\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setName(currentUser.name || \"\");\r\n      setDescription(currentUser.about || \"\");\r\n      setIsNameValid(true);\r\n      setIsAboutValid(true);\r\n      setIsFormValid(false);\r\n    }\r\n  }, [isOpen, currentUser]);\r\n\r\n  useEffect(() => {\r\n    setIsFormValid(isNameValid && isAboutValid);\r\n  }, [isNameValid, isAboutValid]);\r\n\r\n  function handleNameProfile(e) {\r\n    setName(e.target.value);\r\n    setIsNameValid(e.target.validity.valid);\r\n  }\r\n\r\n  function handleAboutProfile(e) {\r\n    setDescription(e.target.value);\r\n    setIsAboutValid(e.target.validity.valid);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      nameUser,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PopupWithForm\r\n        name=\"profile\"\r\n        title=\"Editar Perfil\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n        isLoading={isLoading}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          className={`form__input ${!isNameValid && \"form__input_has_error\"}`}\r\n          placeholder=\"Nombre\"\r\n          value={nameUser}\r\n          onChange={handleNameProfile}\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n        />\r\n        <span className=\"form__input-error form__input-error_type_name\">\r\n          {!isNameValid && \"El nombre debe tener entre 2 y 30 caracteres\"}\r\n        </span>\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          name=\"about\"\r\n          className={`form__input ${!isAboutValid && \"form__input_has_error\"}`}\r\n          value={description}\r\n          onChange={handleAboutProfile}\r\n          placeholder=\"Acerca de mí\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n        />\r\n        <span className=\"form__input-error form__input-error_type_about\">\r\n          {!isAboutValid &&\r\n            \"La Descripción debe tener entre 2 y 200 caracteres\"}\r\n        </span>\r\n        <br />\r\n        <button\r\n          type=\"submit\"\r\n          className={`form__submit ${!isFormValid && \"form__submit_disabled\"}`}\r\n          disabled={!isFormValid}\r\n        >\r\n          {isLoading ? \"Guardando...\" : \"Guardar\"}\r\n        </button>\r\n      </PopupWithForm>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}