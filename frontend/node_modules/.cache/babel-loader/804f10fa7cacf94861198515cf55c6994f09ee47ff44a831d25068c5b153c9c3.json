{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import PopupWithForm from\"./PopupWithForm\";import\"../blocks/popup.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function AddPlacePopup(_ref){let{isOpen,onClose,onAddPlace,isLoading}=_ref;const[name,setName]=useState(\"\");const[link,setLink]=useState(\"\");const[isNameValid,setIsNameValid]=useState(true);const[isLinkValid,setIsLinkValid]=useState(true);const[isFormValid,setIsFormValid]=useState(false);useEffect(()=>{setName(\"\");setLink(\"\");setIsNameValid(true);setIsLinkValid(true);setIsFormValid(false);},[isOpen]);useEffect(()=>{setIsFormValid(isNameValid&&isLinkValid);},[isNameValid,isLinkValid]);function handleNameChange(e){setName(e.target.value);setIsNameValid(e.target.validity.valid);}function handleLinkChange(e){setLink(e.target.value);setIsLinkValid(e.target.validity.valid);}function handleSubmit(e){e.preventDefault();if(isFormValid){onAddPlace({name,link});}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(PopupWithForm,{name:\"add-card\",title:\"Nuevo Lugar\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,isLoading:isLoading,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",className:`form__input ${!isNameValid&&\"form__input_has_error\"}`,placeholder:\"Titulo\",value:name,onChange:handleNameChange,minLength:\"2\",maxLength:\"30\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error form__input-error_type_title\",children:!isNameValid&&\"El nombre debe tener m치s 2 caracteres\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",name:\"link\",className:`form__input ${!isLinkValid&&\"form__input_has_error\"}`,placeholder:\"Enlace de la imagen\",value:link,onChange:handleLinkChange,minLength:\"2\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error form__input-error_type_link\",children:!isLinkValid&&\"Introduce una URL v치lida\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:`form__submit ${!isFormValid&&\"form__submit_disabled\"}`,disabled:!isFormValid,children:isLoading?\"Guardando...\":\"Guardar\"})]})});}export default AddPlacePopup;","map":{"version":3,"names":["React","useEffect","useState","PopupWithForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddPlacePopup","_ref","isOpen","onClose","onAddPlace","isLoading","name","setName","link","setLink","isNameValid","setIsNameValid","isLinkValid","setIsLinkValid","isFormValid","setIsFormValid","handleNameChange","e","target","value","validity","valid","handleLinkChange","handleSubmit","preventDefault","children","title","onSubmit","type","className","placeholder","onChange","minLength","maxLength","required","disabled"],"sources":["C:/Users/eduar/Documents/Tripleten/web_project_api_full/frontend/src/components/AddPlacePopup.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport \"../blocks/popup.css\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n  const [isNameValid, setIsNameValid] = useState(true);\r\n  const [isLinkValid, setIsLinkValid] = useState(true);\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setName(\"\");\r\n    setLink(\"\");\r\n    setIsNameValid(true);\r\n    setIsLinkValid(true);\r\n    setIsFormValid(false);\r\n  }, [isOpen]);\r\n\r\n  useEffect(() => {\r\n    setIsFormValid(isNameValid && isLinkValid);\r\n  }, [isNameValid, isLinkValid]);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n    setIsNameValid(e.target.validity.valid);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n    setIsLinkValid(e.target.validity.valid);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (isFormValid) {\r\n      onAddPlace({ name, link });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PopupWithForm\r\n        name=\"add-card\"\r\n        title=\"Nuevo Lugar\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n        isLoading={isLoading}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          className={`form__input ${!isNameValid && \"form__input_has_error\"}`}\r\n          placeholder=\"Titulo\"\r\n          value={name}\r\n          onChange={handleNameChange}\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          required\r\n        />\r\n        <span className=\"form__input-error form__input-error_type_title\">\r\n          {!isNameValid && \"El nombre debe tener m치s 2 caracteres\"}\r\n        </span>\r\n        <br />\r\n        <input\r\n          type=\"url\"\r\n          name=\"link\"\r\n          className={`form__input ${!isLinkValid && \"form__input_has_error\"}`}\r\n          placeholder=\"Enlace de la imagen\"\r\n          value={link}\r\n          onChange={handleLinkChange}\r\n          minLength=\"2\"\r\n          required\r\n        />\r\n        <span className=\"form__input-error form__input-error_type_link\">\r\n          {!isLinkValid && \"Introduce una URL v치lida\"}\r\n        </span>\r\n        <br />\r\n        <button\r\n          type=\"submit\"\r\n          className={`form__submit ${!isFormValid && \"form__submit_disabled\"}`}\r\n          disabled={!isFormValid}\r\n        >\r\n          {isLoading ? \"Guardando...\" : \"Guardar\"}\r\n        </button>\r\n      </PopupWithForm>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}