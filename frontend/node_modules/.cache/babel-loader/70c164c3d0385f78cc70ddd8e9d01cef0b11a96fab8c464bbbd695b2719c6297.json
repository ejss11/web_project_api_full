{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Routes,Route,Navigate,useNavigate}from\"react-router-dom\";import\"../index.css\";import AppHeader from\"./Header\";import Footer from\"./Footer\";import ImagePopup from\"./ImagePopup\";import Main from\"./Main\";import api from\"../utils/api\";import{checkToken}from\"../utils/auth\";import CurrentUserContext from\"../contexts/CurrentUserContext\";import EditProfilePopup from\"./EditProfilePopup\";import EditAvatarPopup from\"./EditAvatarPopup\";import AddPlacePopup from\"./AddPlacePopup\";import ConfirmDeletePopup from\"./ConfirmDeletePopup\";import ProtectedRoute from\"./ProtectedRoute\";import InfoTooltip from\"./InfoTooltip\";import Login from\"./Login\";import Register from\"./Register\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[isEditProfilePopupOpen,setIsEditProfilePopupOpen]=useState(false);const[isAddPlacePopupOpen,setIsAddPlacePopupOpen]=useState(false);const[isEditAvatarPopupOpen,setIsEditAvatarPopupOpen]=useState(false);const[isConfirmDeletePopupOpen,setIsConfirmDeletePopupOpen]=useState(false);const[isImagePopupOpen,setIsImagenPopupOpen]=useState(false);const[cards,setCards]=useState([]);const[selectedCard,setSelectedCard]=useState(null);const[currentUser,setCurrentUser]=useState({});const[isLoading,setIsLoading]=useState(false);const[cardToDelete,setCardToDelete]=useState(null);const[loggedIn,setIsLoggedIn]=useState(false);const[isInfoTooltipOpen,setIsInfoTooltipOpen]=useState(false);const[isSuccess,setIsSuccess]=useState(false);const[userEmail,setUserEmail]=useState(\"\");const[token,setToken]=useState(localStorage.getItem(\"jwt\")||null);const navigate=useNavigate();useEffect(()=>{//const token = localStorage.getItem(\"jwt\");\nif(token){checkToken(token).then(data=>{setUserEmail(data.email);setIsLoggedIn(true);navigate(\"/\");}).catch(err=>{console.error(err);localStorage.removeItem(\"jwt\");});}},[navigate]);useEffect(()=>{Promise.all([api.getInitialCards(),api.getUserInfo()]).then(_ref=>{let[cardsData,userInfo]=_ref;setCards(cardsData);setCurrentUser(userInfo);}).catch(err=>{console.error(`Error : ${err}`);});},[]);function handleUpdateUser(userData){api.editProfile(userData).then(updatedUser=>{setCurrentUser(updatedUser);closeAllPopups();}).catch(err=>console.log(`Error Editar info Perfil: ${err}`));}function handleUpdateAvatar(avatarLink){setIsLoading(true);api.updateAvatar(avatarLink).then(updateUser=>{setCurrentUser(updateUser);closeAllPopups();}).catch(err=>{console.error(`Error Updating avatar: ${err}`);}).finally(()=>{setIsLoading(false);});}function handleCardDelete(card){setCardToDelete(card);setIsConfirmDeletePopupOpen(true);}function handleConfirmDelete(){if(cardToDelete){setIsLoading(true);api.deleteCard(cardToDelete._id).then(()=>{setCards(state=>state.filter(c=>c._id!==cardToDelete._id));closeAllPopups();}).catch(err=>{console.error(`Error Eliminar card: ${err}`);}).finally(()=>{setIsLoading(false);});}}function handleAddPlaceSubmit(cardData){setIsLoading(true);api.addNewCard(cardData).then(newCard=>{setCards([newCard,...cards]);closeAllPopups();}).catch(err=>{console.error(`Error Agregar Nueva card: ${err}`);}).finally(()=>{setIsLoading(false);});}function handleCardLike(card){const isLiked=card.likes.some(i=>i._id===currentUser._id);api.changeLikeCardStatus(card._id,!isLiked).then(newCard=>{setCards(state=>state.map(c=>c._id===card._id?newCard:c));}).catch(err=>console.log(`Error Like card: ${err}`));}function handleLogout(){localStorage.removeItem(\"jwt\");setIsLoggedIn(false);navigate(\"/signin\");}const handleLogin=()=>{checkToken().then(data=>{setUserEmail(data.name);setIsLoggedIn(true);setIsSuccess(true);setIsInfoTooltipOpen(true);navigate(\"/\");}).catch(err=>{console.error(err);setIsSuccess(false);setIsInfoTooltipOpen(true);});};const handleRegister=()=>{setIsSuccess(true);setIsInfoTooltipOpen(true);};const handleCloseTooltip=()=>{setIsInfoTooltipOpen(false);};const closeAllPopups=()=>{setIsAddPlacePopupOpen(false);setIsEditAvatarPopupOpen(false);setIsEditProfilePopupOpen(false);setIsConfirmDeletePopupOpen(false);setIsImagenPopupOpen(false);setCardToDelete(null);};const handleCardClick=card=>{setSelectedCard(card);setIsImagenPopupOpen(true);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CurrentUserContext.Provider,{value:currentUser,children:[/*#__PURE__*/_jsx(AppHeader,{isLoggedIn:loggedIn,onLogout:handleLogout,isUser:currentUser.name}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{loggedIn:loggedIn,children:/*#__PURE__*/_jsx(Main,{cards:cards,onCardLike:handleCardLike,onCardDelete:handleCardDelete,onCardClick:handleCardClick,onEditAvatarClick:()=>setIsEditAvatarPopupOpen(true),onEditProfileClick:()=>setIsEditProfilePopupOpen(true),onAddPlaceClick:()=>setIsAddPlacePopupOpen(true),email:userEmail})})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Register,{onRegister:handleRegister})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:loggedIn?\"/around-react_es\":\"/signin\"})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser,isLoading:isLoading}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit,isLoading:isLoading}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar,isLoading:isLoading}),/*#__PURE__*/_jsx(ConfirmDeletePopup,{isOpen:isConfirmDeletePopupOpen,onClose:closeAllPopups,onConfirm:handleConfirmDelete,isLoading:isLoading}),selectedCard&&/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,isOpen:isImagePopupOpen,onClose:closeAllPopups}),/*#__PURE__*/_jsx(InfoTooltip,{isOpen:isInfoTooltipOpen,onClose:handleCloseTooltip,isSuccess:isSuccess}),/*#__PURE__*/_jsx(\"template\",{className:\"template\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card__image\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"ruta\",alt:\"imagen template\",className:\"card__image-photo\"}),/*#__PURE__*/_jsx(\"span\",{className:\"card__image-delete\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card__content-title\",children:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"card__content-like\",children:/*#__PURE__*/_jsx(\"span\",{className:\"card__counter\",children:\"0\"})})]})]})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","Navigate","useNavigate","AppHeader","Footer","ImagePopup","Main","api","checkToken","CurrentUserContext","EditProfilePopup","EditAvatarPopup","AddPlacePopup","ConfirmDeletePopup","ProtectedRoute","InfoTooltip","Login","Register","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","isImagePopupOpen","setIsImagenPopupOpen","cards","setCards","selectedCard","setSelectedCard","currentUser","setCurrentUser","isLoading","setIsLoading","cardToDelete","setCardToDelete","loggedIn","setIsLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","isSuccess","setIsSuccess","userEmail","setUserEmail","token","setToken","localStorage","getItem","navigate","then","data","email","catch","err","console","error","removeItem","Promise","all","getInitialCards","getUserInfo","_ref","cardsData","userInfo","handleUpdateUser","userData","editProfile","updatedUser","closeAllPopups","log","handleUpdateAvatar","avatarLink","updateAvatar","updateUser","finally","handleCardDelete","card","handleConfirmDelete","deleteCard","_id","state","filter","c","handleAddPlaceSubmit","cardData","addNewCard","newCard","handleCardLike","isLiked","likes","some","i","changeLikeCardStatus","map","handleLogout","handleLogin","name","handleRegister","handleCloseTooltip","handleCardClick","children","Provider","value","isLoggedIn","onLogout","isUser","path","element","onCardLike","onCardDelete","onCardClick","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","onRegister","onLogin","to","isOpen","onClose","onUpdateUser","onAddPlace","onUpdateAvatar","onConfirm","className","src","alt"],"sources":["C:/Users/eduar/Documents/Tripleten/web_project_api_full/frontend/src/components/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Routes, Route, Navigate, useNavigate } from \"react-router-dom\";\nimport \"../index.css\";\nimport AppHeader from \"./Header\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport Main from \"./Main\";\nimport api from \"../utils/api\";\nimport { checkToken } from \"../utils/auth\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen] =\n    useState(false);\n  const [isImagePopupOpen, setIsImagenPopupOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [cardToDelete, setCardToDelete] = useState(null);\n  const [loggedIn, setIsLoggedIn] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [token, setToken] = useState(localStorage.getItem(\"jwt\") || null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    //const token = localStorage.getItem(\"jwt\");\n    if (token) {\n      checkToken(token)\n        .then((data) => {\n          setUserEmail(data.email);\n          setIsLoggedIn(true);\n          navigate(\"/\");\n        })\n        .catch((err) => {\n          console.error(err);\n          localStorage.removeItem(\"jwt\");\n        });\n    }\n  }, [navigate]);\n\n  useEffect(() => {\n    Promise.all([api.getInitialCards(), api.getUserInfo()])\n      .then(([cardsData, userInfo]) => {\n        setCards(cardsData);\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => {\n        console.error(`Error : ${err}`);\n      });\n  }, []);\n\n  function handleUpdateUser(userData) {\n    api\n      .editProfile(userData)\n      .then((updatedUser) => {\n        setCurrentUser(updatedUser);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error Editar info Perfil: ${err}`));\n  }\n\n  function handleUpdateAvatar(avatarLink) {\n    setIsLoading(true);\n    api\n      .updateAvatar(avatarLink)\n      .then((updateUser) => {\n        setCurrentUser(updateUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(`Error Updating avatar: ${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleCardDelete(card) {\n    setCardToDelete(card);\n    setIsConfirmDeletePopupOpen(true);\n  }\n\n  function handleConfirmDelete() {\n    if (cardToDelete) {\n      setIsLoading(true);\n      api\n        .deleteCard(cardToDelete._id)\n        .then(() => {\n          setCards((state) => state.filter((c) => c._id !== cardToDelete._id));\n          closeAllPopups();\n        })\n        .catch((err) => {\n          console.error(`Error Eliminar card: ${err}`);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    }\n  }\n\n  function handleAddPlaceSubmit(cardData) {\n    setIsLoading(true);\n    api\n      .addNewCard(cardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(`Error Agregar Nueva card: ${err}`);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => console.log(`Error Like card: ${err}`));\n  }\n\n  function handleLogout() {\n    localStorage.removeItem(\"jwt\");\n    setIsLoggedIn(false);\n\n    navigate(\"/signin\");\n  }\n\n  const handleLogin = () => {\n    checkToken()\n      .then((data) => {\n        setUserEmail(data.name);\n        setIsLoggedIn(true);\n        setIsSuccess(true);\n        setIsInfoTooltipOpen(true);\n\n        navigate(\"/\");\n      })\n      .catch((err) => {\n        console.error(err);\n        setIsSuccess(false);\n        setIsInfoTooltipOpen(true);\n      });\n  };\n\n  const handleRegister = () => {\n    setIsSuccess(true);\n    setIsInfoTooltipOpen(true);\n  };\n\n  const handleCloseTooltip = () => {\n    setIsInfoTooltipOpen(false);\n  };\n\n  const closeAllPopups = () => {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsConfirmDeletePopupOpen(false);\n    setIsImagenPopupOpen(false);\n    setCardToDelete(null);\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n    setIsImagenPopupOpen(true);\n  };\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <AppHeader\n          isLoggedIn={loggedIn}\n          onLogout={handleLogout}\n          isUser={currentUser.name}\n        />\n\n        <Routes>\n          {/* Rutas protegidas para usuarios autenticados */}\n          <Route\n            path=\"/\"\n            element={\n              <ProtectedRoute loggedIn={loggedIn}>\n                <Main\n                  cards={cards}\n                  onCardLike={handleCardLike}\n                  onCardDelete={handleCardDelete}\n                  onCardClick={handleCardClick}\n                  onEditAvatarClick={() => setIsEditAvatarPopupOpen(true)}\n                  onEditProfileClick={() => setIsEditProfilePopupOpen(true)}\n                  onAddPlaceClick={() => setIsAddPlacePopupOpen(true)}\n                  email={userEmail}\n                ></Main>\n              </ProtectedRoute>\n            }\n          />\n\n          {/* Rutas públicas para usuarios no autenticados */}\n          <Route\n            path=\"/signup\"\n            element={<Register onRegister={handleRegister} />}\n          />\n          <Route path=\"/signin\" element={<Login onLogin={handleLogin} />} />\n\n          {/* Redirige cualquier otra ruta a /signin si no está autenticado */}\n          <Route\n            path=\"*\"\n            element={\n              <Navigate to={loggedIn ? \"/around-react_es\" : \"/signin\"} />\n            }\n          />\n        </Routes>\n\n        <Footer />\n        {/*Popup Profile */}\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n        {/*Popup Add Card */}\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n        {/*Popup Edit Avatar */}\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        {/*Popup Confirm Delete Card */}\n        <ConfirmDeletePopup\n          isOpen={isConfirmDeletePopupOpen}\n          onClose={closeAllPopups}\n          onConfirm={handleConfirmDelete}\n          isLoading={isLoading}\n        />\n        {/*Popup Open Image */}\n        {selectedCard && (\n          <ImagePopup\n            card={selectedCard}\n            isOpen={isImagePopupOpen}\n            onClose={closeAllPopups}\n          ></ImagePopup>\n        )}\n        {/*Popup Info */}\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={handleCloseTooltip}\n          isSuccess={isSuccess}\n        />\n        <template className=\"template\">\n          <li className=\"card\">\n            <div className=\"card__image\">\n              <img\n                src={\"ruta\"}\n                alt=\"imagen template\"\n                className=\"card__image-photo\"\n              />\n              <span className=\"card__image-delete\"></span>\n            </div>\n            <div className=\"card__content\">\n              <h3 className=\"card__content-title\">{\"\"}</h3>\n              <span className=\"card__content-like\">\n                <span className=\"card__counter\">0</span>\n              </span>\n            </div>\n          </li>\n        </template>\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}