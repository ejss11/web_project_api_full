{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eduar\\\\Documents\\\\Tripleten\\\\web_project_api_full\\\\frontend\\\\src\\\\components\\\\EditAvatarPopup.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport \"../blocks/popup.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction EditAvatarPopup({\n  isOpen,\n  onClose,\n  onUpdateAvatar,\n  isLoading\n}) {\n  _s();\n  const avatarRef = useRef();\n  const [isLinkValid, setIsLinkValid] = useState(true);\n  const [isFormValid, setIsFormValid] = useState(false);\n  useEffect(() => {\n    if (isOpen) {\n      setIsLinkValid(true);\n      setIsFormValid(false);\n    }\n  }, [isOpen]);\n  useEffect(() => {\n    setIsFormValid(isLinkValid);\n  }, [isLinkValid]);\n  function handleLinkAvatar(e) {\n    setIsLinkValid(e.target.validity.valid);\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(PopupWithForm, {\n      name: \"profile-image\",\n      title: \"Cambiar foto de perfil\",\n      isOpen: isOpen,\n      onClose: onClose,\n      onUpdateAvatar: handleSubmit,\n      isLoading: isLoading,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"url\",\n        name: \"url\",\n        className: `form__input ${!isLinkValid && \"form__input_has_error\"}`,\n        placeholder: \"Enlace de la imagen de perfil\",\n        ref: avatarRef,\n        onChange: handleLinkAvatar,\n        minLength: \"2\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"form__input-error form__input-error_type_url\",\n        children: !isLinkValid && \"Introduce una URL válida\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"form__submit\",\n        disabled: !isFormValid,\n        children: isLoading ? \"Guardando...\" : \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(EditAvatarPopup, \"QEm6iD7vCgsaraOH5z3t/EJ0HjM=\");\n_c = EditAvatarPopup;\nexport default EditAvatarPopup;\nvar _c;\n$RefreshReg$(_c, \"EditAvatarPopup\");","map":{"version":3,"names":["React","useRef","useState","useEffect","PopupWithForm","jsxDEV","_jsxDEV","Fragment","_Fragment","EditAvatarPopup","isOpen","onClose","onUpdateAvatar","isLoading","_s","avatarRef","isLinkValid","setIsLinkValid","isFormValid","setIsFormValid","handleLinkAvatar","e","target","validity","valid","handleSubmit","preventDefault","avatar","current","value","children","name","title","type","className","placeholder","ref","onChange","minLength","required","fileName","_jsxFileName","lineNumber","columnNumber","disabled","_c","$RefreshReg$"],"sources":["C:/Users/eduar/Documents/Tripleten/web_project_api_full/frontend/src/components/EditAvatarPopup.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport \"../blocks/popup.css\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n  const avatarRef = useRef();\r\n  const [isLinkValid, setIsLinkValid] = useState(true);\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setIsLinkValid(true);\r\n      setIsFormValid(false);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  useEffect(() => {\r\n    setIsFormValid(isLinkValid);\r\n  }, [isLinkValid]);\r\n\r\n  function handleLinkAvatar(e) {\r\n    setIsLinkValid(e.target.validity.valid);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PopupWithForm\r\n        name=\"profile-image\"\r\n        title=\"Cambiar foto de perfil\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onUpdateAvatar={handleSubmit}\r\n        isLoading={isLoading}\r\n      >\r\n        <input\r\n          type=\"url\"\r\n          name=\"url\"\r\n          className={`form__input ${!isLinkValid && \"form__input_has_error\"}`}\r\n          placeholder=\"Enlace de la imagen de perfil\"\r\n          ref={avatarRef}\r\n          onChange={handleLinkAvatar}\r\n          minLength=\"2\"\r\n          required\r\n        />\r\n        <span className=\"form__input-error form__input-error_type_url\">\r\n          {!isLinkValid && \"Introduce una URL válida\"}\r\n        </span>\r\n        <br />\r\n        <button type=\"submit\" className=\"form__submit\" disabled={!isFormValid}>\r\n          {isLoading ? \"Guardando...\" : \"Guardar\"}\r\n        </button>\r\n      </PopupWithForm>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAO,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE7B,SAASC,eAAeA,CAAC;EAAEC,MAAM;EAAEC,OAAO;EAAEC,cAAc;EAAEC;AAAU,CAAC,EAAE;EAAAC,EAAA;EACvE,MAAMC,SAAS,GAAGd,MAAM,CAAC,CAAC;EAC1B,MAAM,CAACe,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACgB,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAErDC,SAAS,CAAC,MAAM;IACd,IAAIO,MAAM,EAAE;MACVO,cAAc,CAAC,IAAI,CAAC;MACpBE,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC,EAAE,CAACT,MAAM,CAAC,CAAC;EAEZP,SAAS,CAAC,MAAM;IACdgB,cAAc,CAACH,WAAW,CAAC;EAC7B,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,SAASI,gBAAgBA,CAACC,CAAC,EAAE;IAC3BJ,cAAc,CAACI,CAAC,CAACC,MAAM,CAACC,QAAQ,CAACC,KAAK,CAAC;EACzC;EAEA,SAASC,YAAYA,CAACJ,CAAC,EAAE;IACvBA,CAAC,CAACK,cAAc,CAAC,CAAC;IAElBd,cAAc,CAAC;MACbe,MAAM,EAAEZ,SAAS,CAACa,OAAO,CAACC;IAC5B,CAAC,CAAC;EACJ;EAEA,oBACEvB,OAAA,CAAAE,SAAA;IAAAsB,QAAA,eACExB,OAAA,CAACF,aAAa;MACZ2B,IAAI,EAAC,eAAe;MACpBC,KAAK,EAAC,wBAAwB;MAC9BtB,MAAM,EAAEA,MAAO;MACfC,OAAO,EAAEA,OAAQ;MACjBC,cAAc,EAAEa,YAAa;MAC7BZ,SAAS,EAAEA,SAAU;MAAAiB,QAAA,gBAErBxB,OAAA;QACE2B,IAAI,EAAC,KAAK;QACVF,IAAI,EAAC,KAAK;QACVG,SAAS,EAAE,eAAe,CAAClB,WAAW,IAAI,uBAAuB,EAAG;QACpEmB,WAAW,EAAC,+BAA+B;QAC3CC,GAAG,EAAErB,SAAU;QACfsB,QAAQ,EAAEjB,gBAAiB;QAC3BkB,SAAS,EAAC,GAAG;QACbC,QAAQ;MAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACFrC,OAAA;QAAM4B,SAAS,EAAC,8CAA8C;QAAAJ,QAAA,EAC3D,CAACd,WAAW,IAAI;MAA0B;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvC,CAAC,eACPrC,OAAA;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACNrC,OAAA;QAAQ2B,IAAI,EAAC,QAAQ;QAACC,SAAS,EAAC,cAAc;QAACU,QAAQ,EAAE,CAAC1B,WAAY;QAAAY,QAAA,EACnEjB,SAAS,GAAG,cAAc,GAAG;MAAS;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI;EAAC,gBAChB,CAAC;AAEP;AAAC7B,EAAA,CA1DQL,eAAe;AAAAoC,EAAA,GAAfpC,eAAe;AA4DxB,eAAeA,eAAe;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}